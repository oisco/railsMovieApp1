<html>
<head>
	<title>Adventure Game</title>
	<script>
		myLocation = new Object();
		
		locations = new Array();
		
		inventory = new Object();
		inventory.hasKey = false;
	
		function load()
		{
			locations[0]= new Forest();
			locations[1]= new HouseOutside();
			locations[2]= new Field();
			locations[3]=new Roof();
			
			myLocation = locations[0];
			myLocation.enter();
		}
		
		Forest = function()
		{
			var image = document.getElementById("image");
			var text = document.getElementById("text");
			var cmd = document.getElementById("cmd");

			this.enter = function()
			{
				image.innerHTML = "<img src='forest.jpg'></img>";
				text.innerHTML = "You are in a forest. It is cold and dark.";
				cmd.innerHTML = "<a href='#' onclick='myLocation.move()'>Go down the path</a>";
			
			}
		
			this.move = function()
			{
				myLocation = locations[1];
				myLocation.enter();
			}
		
		}
		
		Roof = function()
		{
			var image = document.getElementById("image");
			var text = document.getElementById("text");
			var cmd = document.getElementById("cmd");

			this.enter = function()
			{
				image.innerHTML = "<img src='roof.jpg'></img>";
				text.innerHTML = "You are on the roof for some reason.";
			
			}
		
			this.move = function()
			{
				myLocation = locations[1];
				myLocation.enter();
			}
		
		}
		
		HouseOutside = function()
		{
			var image = document.getElementById("image");
			var text = document.getElementById("text");
			var cmd = document.getElementById("cmd");

			this.enter = function()
			{
				//image.innerHTML = "<img src='forest.jpg'></img>";
				text.innerHTML = "You are in front of the house. It appears to be warm and cozy inside. To the right you can see a field.";
				cmd.innerHTML = "<a href='#' onclick='myLocation.house()'>Try to enter the house</a>&nbsp;<a href='#' onclick='myLocation.field()'>Go into the field</a>&nbsp;<a href='#' onclick='myLocation.forest()'>Go back into the forest</a>";
				image.innerHTML = "<img src='house.jpg'></img>";

			}
		
			this.house = function()
			{
				if(inventory.hasKey==false)
				{
					text.innerHTML =text.innerHTML + "<br><br> The door is locked. Perhaps you could try to find a key";
				}
				else
				{
					text.innerHTML = "You get inside. You are able to start a fire in the fireplace. You feel much warmer now. Nice.";
					cmd.innerHTML = "<a href='#' onclick='myLocation.roof()'>go to the roof</a>&nbsp;";
					image.innerHTML = "<img src='house inside.jpg'></img>";

				}
			}
			
			this.field = function()
			{
				myLocation = locations[2];
				myLocation.enter();
			}
		
			this.forest = function()
			{
				myLocation = locations[0];
				myLocation.enter();
			}
			
			this.roof = function()
			{
				myLocation = locations[3];
				myLocation.enter();
			}
			
		}
		
		Field = function()
		{
			var image = document.getElementById("image");
			var text = document.getElementById("text");
			var cmd = document.getElementById("cmd");

			this.enter = function()
			{
				//image.innerHTML = "<img src='forest.jpg'></img>";
				if(inventory.hasKey==false)
				{
					text.innerHTML = "You are in the field. The moon shines brightly. You can see a shiny object on the ground. It looks like a key.";
					cmd.innerHTML = "<a href='#' onclick='myLocation.key()'>Pick up the key</a>&nbsp;<a href='#' onclick='myLocation.back()'>Go back to the house</a>";
				image.innerHTML = "<img src='field.jpg'></img>";
				}
				else
				{
					text.innerHTML = "You are in the field. The moon shines brightly.";
					cmd.innerHTML = "<a href='#' onclick='myLocation.back()'>Go back to the house</a>";

				}
			
			}
		
			this.key = function()
			{
				inventory.hasKey=true;
				text.innerHTML =text.innerHTML + "<br><br> You picked up the key. Maybe you can use it to get inside the house?";
	
			}
			
			this.back = function()
			{
				myLocation = locations[1];
				myLocation.enter();
			}
		
		}
		
	</script>
</head>
<body onload="load()">
	<h3>Adventure Game</h3>
	<hr>
	<br>
	<div id="image"></div>
	<hr>
	<br>
	<div id="text"></div>
	<hr>
	<br>
	<div id="cmd"></div>
</body>
</html>